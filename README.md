# a python calculator in shell

<div dir="rtl">

یه ماشین حساب نه چندان خسته ولی خیلی کوچیک که با پایتون کار می‌کنه و از همون شل می‌شه اجراش کرد.  
این ماشینه سعی میکنه نمودار هم بکشه گاهی.

## راه انداختن‌اش


در حال حاضر نصاب نداره و دستی باید برنامه رو (نصب و ) اجرا کنید!


برای استفاده ازش کتابخانه های `numpy` و `matplotlib` رو نصب کنید.  

بعدش این ریپوزیتوری رو کلون کنید.

<div dir="ltr">

`git clone 'https://github.com/ekm507/shellcalc.git'`  
</div>


## استفاده‌ش

میتونید به شکل inline از این استفاده کنید. یعنی این شکلی استفاده کنید:

<div dir="ltr">

`python pycalc.py "MATH EXPRESSION"`  
</div>

مثلا:  
<div dir="ltr">

`python pycalc.py '3*sin(4*pi) + sqrt(6) + 1'`  
</div>

که در خروجی پاسخ عبارت رو می‌نویسه  
یا مثلا:  
<div dir="ltr">

`python pycalc.py "y = sin(x) + 1"`  
</div>

که سعی می‌کنه یک نمودار ترسیم کنه.

یا میتونید برنامه رو اجرا کنید تا ورودی رو از stdin بگیره. طبیعتا میتونید از pipeline هم استفاده کنید.

نتیجه چیزی شبیه این باید باشه: (البته ممکنه به خاطر نسخه برنامه تفاوت داشته باشه. این راهنما خیلی هم به روز نیست!)

<div dir="ltr">

```
> python pycalc.py
wellcome to shellcalc!

1+2*6
13

3+9
12

y=sin(x)
```

</div>



 ## چند تا آپشن

### round
 اگر بعد از معادله تگ `round` رو استفاده کنید، پاسخ نهایی به شکل عدد صحیح خواهد بود.


<div dir="ltr">

`python pycalc.py "10 * pi" round`    
</div>


### برای نمودارها چند تا تنظیم هم داریم.  

### from

برای این که رسم نمودار از نقطه `x=a` شروع بشه اینطوری بنویسید: (به جای a عدد بگذارید)

<div dir="ltr">

`python pycalc.py "y = sinc(x)" from a`    
</div>

### to

برای این که رسم این نمودار به نقطه `x=b` ختم بشه اینطوری بنویسید:

<div dir="ltr">

`python pycalc.py "y = sin(x) + 1" to b`  
</div>

### step

برای این که رزولوشن منحنی رو مشخص کنید روی x اینطوری بنویسید:

<div dir="ltr">

`python pycalc.py "y = sin(x) + 1" step 0.01`  
</div>

### fft

ویژگی دیگری که می‌تونید با نمودار امتحان کنید تگ `fft` است. باهاش میتونید تبدیل فوریه تابع رو مشاهده کنید.

<div dir="ltr">

`python pycalc.py "y = sinc(x) ** 2" fft`  
</div>

نکته ریاضی: برای افزایش رزولوشن در حوزه فرکانس باید گستره رو در حوزه زمان بیشتر کنید.


### ifft

تبدیل معکوس فوریه هم ممکنه.
از آرگومان `ifft` استفاده کنید.
<div dir="ltr">

`python pycalc.py "y = sinc(x)" ifft`  
</div>

### int, integral

اگر میخواید انتگرال منحنی رسم بشه، از سوییچ `int` یا `integral` استفاده کنید.

### deriv, derivative, d


اگر میخواید مشتق منحنی رسم بشه، از سوییچ `derivative` یا `d` یا `deriv` استفاده کنید.

### zero, z

اگر میخواهید محور x و y هم رسم بشه از سرییچ `zero` یا `z` استفاده کنید.


### xkcd
آپشن `xkcd` رو هم امتحان کنید!

<div dir="ltr">

`python pycalc.py "y = sin(x) + 1" from -4 to 4 step 0.01 xkcd`  
</div>

## برای استفاده راحت تر

میتونید بعدش هم با یه `alias` براش یه میونبر درست کنید. مثل این:
<div dir="ltr">

`alias calc=/usr/bin/python Foo/Boo/pycalc.py`
</div>

همچنین میتونید این دستور رو به اون فایل rc شل اضافه کنید  
مثلا من که zsh استفاده میکنم این رو به ته فایل `~/.zshrc` اضافه کرده‌م.

که بعدش میشه خیلی ساده تر استفاده‌ش کرد. مثلا:  
<div dir="ltr">

`calc 'sin(6 * pi) - 3'`
</div>


<h2>توسعه</h2>

نکته اصلی توسعه این برنامه اینه که استفاده ازش باید تا میشه ساده باشه.  

کارهایی که فعلا لازمه انجام بشه:  
1. یه چند تا چیز هم چاپ کنه مثل برنامه های عادی شل. مثلا `usage` و اینا  
و خطاهای خودش رو چاپ کنه به جای خطاهای پایتون.

2. اضافه کردن امکان نصب و آپدیت

3. برطرف کردن مساله اعداد مختلط در مخاسبه معکوس تبدیل فوریه

اگر تغییری چیزی دادید پول ریکوئست بدید ثواب داره.  
همین دیگه خوش باشید.

هوم

</div>
